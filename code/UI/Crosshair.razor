@using Sandbox
@using Sandbox.UI

@namespace DeathCard
@inherits Panel

<root />

@code {
	public static float Size { get; set; } = 10f;
	public static float Thickness { get; set; } = 2f;
	public static Color Color { get; set; } = Color.White;

	public override void DrawBackground( ref RenderState state )
	{
		// Our render attributes.
		var attributes = new RenderAttributes();
		attributes.Set( "Texture", Texture.White );

		// Horizontal quads, separated to two to not cause problems with alpha.
		var horizontal = new Rect( Screen.Size / 2f - Vector2.Left * Size / 2f - Vector2.Up * Thickness / 2f, new Vector2( Size / 2f - Thickness / 2f, Thickness ) );
		Graphics.DrawQuad( horizontal, Material.UI.Basic, Color, attributes );

		var horizontal_second = new Rect( Screen.Size / 2f - Vector2.Right * Thickness / 2f - Vector2.Up * Thickness / 2f, new Vector2( Size / 2f - Thickness / 2f, Thickness ) );
		Graphics.DrawQuad( horizontal_second, Material.UI.Basic, Color, attributes );

		// Vertical quad.
		var vertical = new Rect( Screen.Size / 2f - Vector2.Up * Size / 2f - Vector2.Left * Thickness / 2f, new Vector2( Thickness, Size ) );
		Graphics.DrawQuad( vertical, Material.UI.Basic, Color, attributes );
	}
}
